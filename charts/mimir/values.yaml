# Use single instance / minimal replicas
replicaCount: 1

# Configure for single-node deployment
mimir:
  structuredConfig:
    common:
      storage:
        backend: filesystem
        filesystem:
          dir: /data
    blocks_storage:
      backend: filesystem
      filesystem:
        dir: /data/blocks
    ruler_storage:
      backend: filesystem
      filesystem:
        dir: /data/ruler
    alertmanager_storage:
      backend: filesystem
      filesystem:
        dir: /data/alertmanager

# Disable HA components for single node
distributor:
  replicas: 1
ingester:
  replicas: 1
querier:
  replicas: 1
query_frontend:
  replicas: 1
compactor:
  replicas: 1
store_gateway:
  replicas: 1
ruler:
  replicas: 1
alertmanager:
  replicas: 1

# Use local filesystem / small PVC for a single-node lab
persistence:
  enabled: true
  size: 10Gi

# Keep resource usage small but meaningful
resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 1
    memory: 2Gi
