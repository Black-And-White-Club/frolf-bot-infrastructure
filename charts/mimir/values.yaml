# Use single instance / minimal replicas
replicaCount: 1

# Configure for single-node deployment
mimir:
  structuredConfig:
    ingester:
      ring:
        replication_factor: 1
    ruler:
      data_dir: /data/ruler
    blocks_storage:
      backend: filesystem
      filesystem:
        dir: /data/blocks
    ruler_storage:
      backend: filesystem
      filesystem:
        dir: /data/ruler
    alertmanager_storage:
      backend: filesystem
      filesystem:
        dir: /data/alertmanager
    ingest_storage:
      enabled: false

minio:
  enabled: false

# Disable HA components for single node - only keep essential services
distributor:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      cpu: 200m
      memory: 1Gi
ingester:
  replicas: 1
  # Disable zone-aware replication for single node
  zoneAwareReplication:
    enabled: false
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      cpu: 200m
      memory: 1Gi
  nodeSelector:
    kubernetes.io/hostname: resume-project-node
  persistentVolume:
    enabled: false
  extraVolumes:
    - name: mimir-storage
      persistentVolumeClaim:
        claimName: mimir-frolf-pvc
  extraVolumeMounts:
    - name: mimir-storage
      mountPath: /data
querier:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
query_frontend:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
query_scheduler:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

ruler:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

# Disable stateful components that require PVCs for minimal setup
alertmanager:
  enabled: false

compactor:
  enabled: false

store_gateway:
  enabled: false

rollout_operator:
  enabled: false

nginx:
  enabled: false

# Disable ingest storage and kafka if not using
ingest_storage:
  enabled: false

kafka:
  enabled: false

# Disable overrides-exporter if not needed
overrides_exporter:
  enabled: false
