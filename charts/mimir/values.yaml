# Use single instance / minimal replicas
replicaCount: 1

# Configure for single-node deployment
mimir:
  structuredConfig:
    blocks_storage:
      backend: filesystem
      filesystem:
        dir: /mimir/blocks
    ruler_storage:
      backend: filesystem
      filesystem:
        dir: /mimir/ruler
    alertmanager_storage:
      backend: filesystem
      filesystem:
        dir: /mimir/alertmanager
    ingest_storage:
      enabled: false

minio:
  enabled: false

# Disable HA components for single node
distributor:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      cpu: 200m
      memory: 1Gi
ingester:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 512Mi
    limits:
      cpu: 200m
      memory: 1Gi
querier:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
query_frontend:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi
query_scheduler:
  enabled: true
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

ruler:
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

store_gateway:
  replicas: 0

# Use local filesystem / small PVC for a single-node lab
persistence:
  enabled: true
  existingClaim: mimir-frolf-pvc
  size: 10Gi

# Keep resource usage small but meaningful
resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 1
    memory: 2Gi

rollout_operator:
  enabled: false

nginx:
  enabled: false

# Disable ingest storage and kafka if not using
ingest_storage:
  enabled: false

kafka:
  enabled: false

# Disable overrides-exporter if not needed
overrides_exporter:
  enabled: false
